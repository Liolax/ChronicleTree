<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChronicleTree - Design & Implementation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .gradient-header {
            background: linear-gradient(135deg, #4F46E5 0%, #8B5CF6 100%);
        }
        .section-icon {
            width: 32px;
            height: 32px;
            margin-right: 12px;
            color: #4F46E5;
        }
        .component-icon {
            width: 24px;
            height: 24px;
            margin-right: 8px;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 min-h-screen flex items-center justify-center">
    <div class="container mx-auto max-w-6xl bg-white rounded-2xl shadow-2xl overflow-hidden">
        <header class="gradient-header text-white p-8 text-center">
            <h1 class="text-4xl font-bold">Design & Implementation</h1>
            <p class="text-lg opacity-90 mt-2">System Architecture & Core Components</p>
        </header>
        
        <main class="p-10 space-y-8">
            <!-- System Architecture -->
            <section>
                <h2 class="text-3xl font-bold text-gray-800 flex items-center border-b-2 border-indigo-200 pb-3 mb-6">
                    <svg class="section-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 0 1 0 3.75H5.625a1.875 1.875 0 0 1 0-3.75Z" />
                    </svg>
                    System Architecture Overview
                </h2>
                <div class="bg-gray-50 p-6 rounded-xl border border-gray-200">
                    <div class="flex flex-col md:flex-row items-center justify-around gap-8 text-center">
                        <div class="bg-white p-6 rounded-xl shadow-md border w-full md:w-1/4 transform hover:scale-105 transition-transform">
                            <h3 class="text-xl font-semibold text-indigo-600 flex items-center justify-center">
                                <svg class="component-icon" fill="#61DAFB" viewBox="0 0 24 24">
                                    <circle cx="12" cy="12" r="2"/>
                                    <path d="M20.2,15.7L20.2,15.7C20.2,16.8 18.5,17.9 16.1,18.7C16.5,20.3 16.2,21.4 15.4,21.9C15.1,22.1 14.7,22.2 14.3,22.2C13.5,22.2 12.6,21.6 11.8,20.5C11,21.6 10.1,22.2 9.3,22.2C8.9,22.2 8.5,22.1 8.2,21.9C7.4,21.4 7.1,20.3 7.5,18.7C5.1,17.9 3.4,16.8 3.4,15.7C3.4,14.6 5.1,13.5 7.5,12.7C7.1,11.1 7.4,10 8.2,9.5C8.5,9.3 8.9,9.2 9.3,9.2C10.1,9.2 11,9.8 11.8,10.9C12.6,9.8 13.5,9.2 14.3,9.2C14.7,9.2 15.1,9.3 15.4,9.5C16.2,10 16.5,11.1 16.1,12.7C18.5,13.5 20.2,14.6 20.2,15.7Z"/>
                                </svg>
                                React Frontend
                            </h3>
                            <div class="text-gray-600 mt-2 text-sm">
                                • Family Tree Visualization<br>
                                • Interactive UI Components<br>
                                • Relationship Management<br>
                                • Media Gallery<br>
                                • User Authentication
                            </div>
                        </div>
                        <div class="text-3xl font-mono text-indigo-400">↔️</div>
                        <div class="bg-white p-6 rounded-xl shadow-md border w-full md:w-1/4 transform hover:scale-105 transition-transform">
                            <h3 class="text-xl font-semibold text-indigo-600 flex items-center justify-center">
                                <svg class="component-icon" fill="#CC0000" viewBox="0 0 24 24">
                                    <path d="M1.5,4.5L3,3L21,21L19.5,22.5L14.97,17.97C14.82,17.98 14.66,18 14.5,18C14.22,18 13.95,17.97 13.69,17.93L12.41,16.65C12.28,16.87 12.15,17.08 12,17.28C11.85,17.08 11.72,16.87 11.59,16.65L10.31,17.93C10.05,17.97 9.78,18 9.5,18C9.34,18 9.18,17.98 9.03,17.97L4.5,13.44C4.5,13.63 4.53,13.81 4.57,14L6.68,15.61C6.87,15.76 6.92,16.03 6.8,16.25L4.8,19.71C4.68,19.93 4.41,20.02 4.19,19.93L1.7,18.93C1.48,18.84 1.41,18.57 1.53,18.35L3.53,14.89C3.65,14.67 3.92,14.58 4.14,14.67L5.63,15.19C5.55,14.83 5.5,14.44 5.5,14C5.5,13.67 5.53,13.34 5.57,13.03L3.46,11.37C3.27,11.22 3.22,10.95 3.34,10.73L5.34,7.27C5.46,7.05 5.73,6.96 5.95,7.05L8.44,8.05C8.96,7.66 9.5,7.32 10.13,7.07L10.5,4ZM12,8.5A3.5,3.5 0 0,0 8.5,12A3.5,3.5 0 0,0 12,15.5A3.5,3.5 0 0,0 15.5,12A3.5,3.5 0 0,0 12,8.5Z"/>
                                </svg>
                                Rails API Backend
                            </h3>
                            <div class="text-gray-600 mt-2 text-sm">
                                • RESTful API Endpoints<br>
                                • Business Logic<br>
                                • Authentication & Security<br>
                                • File Management<br>
                                • Data Serialization
                            </div>
                        </div>
                        <div class="text-3xl font-mono text-indigo-400">↔️</div>
                        <div class="bg-white p-6 rounded-xl shadow-md border w-full md:w-1/4 transform hover:scale-105 transition-transform">
                            <h3 class="text-xl font-semibold text-indigo-600 flex items-center justify-center">
                                <svg class="component-icon" fill="#336791" viewBox="0 0 24 24">
                                    <path d="M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M4,9V12C4,14.21 7.58,16 12,16C16.42,16 20,14.21 20,12V9C20,11.21 16.42,13 12,13C7.58,13 4,11.21 4,9M4,14V17C4,19.21 7.58,21 12,21C16.42,21 20,19.21 20,17V14C20,16.21 16.42,18 12,18C7.58,18 4,16.21 4,14Z"/>
                                </svg>
                                PostgreSQL Database
                            </h3>
                            <div class="text-gray-600 mt-2 text-sm">
                                • People & Relationships<br>
                                • Media Metadata<br>
                                • Timeline Events<br>
                                • User Accounts<br>
                                • Active Storage Blobs
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Key Algorithms -->
            <section>
                <h2 class="text-3xl font-bold text-gray-800 flex items-center border-b-2 border-indigo-200 pb-3 mb-6">
                    <svg class="section-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082V3.104M9.75 3.104A23.847 23.847 0 0 1 12 3c2.402 0 4.748.175 7.043.513M15.75 3.104v5.714c0 .597.237 1.17.659 1.591L20.5 14.5M15.75 3.104c.251.023.501.05.75.082V3.104m0 0A23.847 23.847 0 0 1 18 3M3 10.5h6m6 0h6M3 15.5h6m6 0h6M3 20.5h12" />
                    </svg>
                    Core Algorithms & Components
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-6">
                        <h3 class="text-xl font-semibold text-blue-800 mb-4">Relationship Calculator Engine</h3>
                        <div class="space-y-3 text-blue-700 text-sm">
                            <div class="bg-blue-100 p-3 rounded">
                                <h4 class="font-semibold">Temporal Validation Algorithm</h4>
                                <p>Prevents chronologically impossible relationships by validating birth/death dates</p>
                            </div>
                            <div class="bg-blue-100 p-3 rounded">
                                <h4 class="font-semibold">Multi-Generational Detection</h4>
                                <p>Calculates complex relationships like great-grandparents and distant cousins</p>
                            </div>
                            <div class="bg-blue-100 p-3 rounded">
                                <h4 class="font-semibold">Gender-Specific Terms</h4>
                                <p>Returns appropriate relationship labels based on gender (Father vs Mother)</p>
                            </div>
                            <div class="bg-blue-100 p-3 rounded">
                                <h4 class="font-semibold">Step-Family Logic</h4>
                                <p>Handles complex step-relationships through marriage connections</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-green-50 border border-green-200 rounded-lg p-6">
                        <h3 class="text-xl font-semibold text-green-800 mb-4">Tree Visualization Algorithm</h3>
                        <div class="space-y-3 text-green-700 text-sm">
                            <div class="bg-green-100 p-3 rounded">
                                <h4 class="font-semibold">Hierarchical Layout</h4>
                                <p>Uses dagre algorithm for optimal node positioning and tree structure</p>
                            </div>
                            <div class="bg-green-100 p-3 rounded">
                                <h4 class="font-semibold">Dynamic Centering</h4>
                                <p>Smooth pan/zoom animations to focus on selected family members</p>
                            </div>
                            <div class="bg-green-100 p-3 rounded">
                                <h4 class="font-semibold">MiniMap Navigation</h4>
                                <p>Viewport rectangle for navigating large family structures efficiently</p>
                            </div>
                            <div class="bg-green-100 p-3 rounded">
                                <h4 class="font-semibold">Responsive Rendering</h4>
                                <p>Optimized performance for large trees with viewport-based rendering</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Database Design -->
            <section>
                <h2 class="text-3xl font-bold text-gray-800 flex items-center border-b-2 border-indigo-200 pb-3 mb-6">
                    <svg class="section-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375" />
                    </svg>
                    Database Schema Design
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <!-- Core Tables -->
                    <div class="bg-white rounded-lg shadow-md border overflow-hidden">
                        <div class="bg-gray-700 text-white p-3 font-semibold text-center">Core Entities</div>
                        <div class="p-4 space-y-3">
                            <div class="bg-indigo-50 p-3 rounded">
                                <h4 class="font-semibold text-indigo-800">people</h4>
                                <p class="text-xs text-indigo-600">Personal information, dates, biographical data</p>
                            </div>
                            <div class="bg-green-50 p-3 rounded">
                                <h4 class="font-semibold text-green-800">relationships</h4>
                                <p class="text-xs text-green-600">Bidirectional family connections with validation</p>
                            </div>
                            <div class="bg-blue-50 p-3 rounded">
                                <h4 class="font-semibold text-blue-800">users</h4>
                                <p class="text-xs text-blue-600">Authentication and account management</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Extended Tables -->
                    <div class="bg-white rounded-lg shadow-md border overflow-hidden">
                        <div class="bg-gray-700 text-white p-3 font-semibold text-center">Extended Features</div>
                        <div class="p-4 space-y-3">
                            <div class="bg-purple-50 p-3 rounded">
                                <h4 class="font-semibold text-purple-800">media</h4>
                                <p class="text-xs text-purple-600">Photos, documents, multimedia attachments</p>
                            </div>
                            <div class="bg-orange-50 p-3 rounded">
                                <h4 class="font-semibold text-orange-800">timeline_items</h4>
                                <p class="text-xs text-orange-600">Life events, milestones, historical records</p>
                            </div>
                            <div class="bg-teal-50 p-3 rounded">
                                <h4 class="font-semibold text-teal-800">facts</h4>
                                <p class="text-xs text-teal-600">Custom biographical information and notes</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Relationship Logic -->
                    <div class="bg-white rounded-lg shadow-md border overflow-hidden">
                        <div class="bg-gray-700 text-white p-3 font-semibold text-center">Relationship Model</div>
                        <div class="p-4 space-y-3">
                            <div class="bg-red-50 p-3 rounded">
                                <h4 class="font-semibold text-red-800">Bidirectional</h4>
                                <p class="text-xs text-red-600">Automatic reverse relationship creation</p>
                            </div>
                            <div class="bg-yellow-50 p-3 rounded">
                                <h4 class="font-semibold text-yellow-800">Temporal Validation</h4>
                                <p class="text-xs text-yellow-600">Chronological consistency checks</p>
                            </div>
                            <div class="bg-pink-50 p-3 rounded">
                                <h4 class="font-semibold text-pink-800">20+ Types</h4>
                                <p class="text-xs text-pink-600">Blood, step, half, in-law, and ex-relations</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Implementation Highlights -->
            <section>
                <h2 class="text-3xl font-bold text-gray-800 flex items-center border-b-2 border-indigo-200 pb-3 mb-6">
                    <svg class="section-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5" />
                    </svg>
                    Implementation Highlights
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-amber-50 border border-amber-200 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-amber-800 mb-4">Frontend Architecture</h3>
                        <ul class="space-y-2 text-amber-700 text-sm">
                            <li><strong>Component Structure:</strong> Hierarchical organization by feature</li>
                            <li><strong>State Management:</strong> Context API + React Query for server state</li>
                            <li><strong>Form Handling:</strong> React Hook Form with Yup validation</li>
                            <li><strong>Routing:</strong> React Router with protected routes</li>
                            <li><strong>Styling:</strong> Tailwind CSS with responsive design</li>
                            <li><strong>Testing:</strong> Vitest + React Testing Library</li>
                        </ul>
                    </div>
                    
                    <div class="bg-cyan-50 border border-cyan-200 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-cyan-800 mb-4">Backend Architecture</h3>
                        <ul class="space-y-2 text-cyan-700 text-sm">
                            <li><strong>API Design:</strong> RESTful endpoints with versioning</li>
                            <li><strong>Authentication:</strong> JWT with bcrypt password hashing</li>
                            <li><strong>Data Validation:</strong> Active Record validations + custom logic</li>
                            <li><strong>File Handling:</strong> Active Storage with optimization</li>
                            <li><strong>Background Jobs:</strong> Sidekiq for async processing</li>
                            <li><strong>Testing:</strong> RSpec with comprehensive test coverage</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Security & Performance -->
            <section>
                <h2 class="text-3xl font-bold text-gray-800 flex items-center border-b-2 border-indigo-200 pb-3 mb-6">
                    <svg class="section-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75m-6-3.75h8.25a3 3 0 0 1 3 3v6.75a3 3 0 0 1-3 3H6.75a3 3 0 0 1-3-3v-6.75a3 3 0 0 1 3-3Z" />
                    </svg>
                    Security & Performance Design
                </h2>
                <div class="bg-gray-50 border border-gray-200 rounded-lg p-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                            <h3 class="text-lg font-semibold text-gray-800 mb-4">Security Measures</h3>
                            <div class="space-y-3">
                                <div class="bg-red-100 p-3 rounded border-l-4 border-red-500">
                                    <h4 class="font-semibold text-red-800">Authentication Security</h4>
                                    <p class="text-red-600 text-sm">JWT tokens, bcrypt hashing, secure session management</p>
                                </div>
                                <div class="bg-red-100 p-3 rounded border-l-4 border-red-500">
                                    <h4 class="font-semibold text-red-800">Data Protection</h4>
                                    <p class="text-red-600 text-sm">User-scoped access, input validation, SQL injection prevention</p>
                                </div>
                                <div class="bg-red-100 p-3 rounded border-l-4 border-red-500">
                                    <h4 class="font-semibold text-red-800">File Security</h4>
                                    <p class="text-red-600 text-sm">Content-type validation, secure upload handling</p>
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <h3 class="text-lg font-semibold text-gray-800 mb-4">Performance Optimizations</h3>
                            <div class="space-y-3">
                                <div class="bg-green-100 p-3 rounded border-l-4 border-green-500">
                                    <h4 class="font-semibold text-green-800">Database Optimization</h4>
                                    <p class="text-green-600 text-sm">Strategic indexing, eager loading, connection pooling</p>
                                </div>
                                <div class="bg-green-100 p-3 rounded border-l-4 border-green-500">
                                    <h4 class="font-semibold text-green-800">Frontend Performance</h4>
                                    <p class="text-green-600 text-sm">React 18 concurrent features, viewport-based rendering</p>
                                </div>
                                <div class="bg-green-100 p-3 rounded border-l-4 border-green-500">
                                    <h4 class="font-semibial text-green-800">Caching Strategy</h4>
                                    <p class="text-green-600 text-sm">Multi-level caching, background job processing</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        
        <footer class="gradient-header text-white p-4 text-center">
            <p class="opacity-75">Slide 6 of 9 • ChronicleTree Presentation</p>
        </footer>
    </div>
</body>
</html>