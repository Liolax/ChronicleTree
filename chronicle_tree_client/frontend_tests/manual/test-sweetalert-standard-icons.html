<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced SweetAlert Test</title>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 2rem;
            background: #f3f4f6;
        }

        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 2rem;
            border-radius: 1rem;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
        }

        .test-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .test-btn {
            background: #4F46E5;
            color: white;
            border: none;
            border-radius: 0.75rem;
            padding: 0.75rem 1.5rem;
            font-weight: 600;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .test-btn:hover {
            background: #4338CA;
            transform: translateY(-1px);
        }

        .existing-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 2rem;
            border-radius: 1rem;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
            z-index: 1000;
            display: none;
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 999;
            display: none;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>Enhanced SweetAlert Test - Standard Icons</h1>
        <p>Test the enhanced SweetAlert functionality with standard SweetAlert2 icons and professional styling.</p>
        
        <div class="test-buttons">
            <button class="test-btn" onclick="testError()">Test Error Alert</button>
            <button class="test-btn" onclick="testSuccess()">Test Success Alert</button>
            <button class="test-btn" onclick="testWarning()">Test Warning Alert</button>
            <button class="test-btn" onclick="testInfo()">Test Info Alert</button>
            <button class="test-btn" onclick="testConfirm()">Test Confirm Dialog</button>
            <button class="test-btn" onclick="testDeleteConfirm()">Test Delete Confirm</button>
            <button class="test-btn" onclick="testToast()">Test Toast</button>
            <button class="test-btn" onclick="testModalManagement()">Test Modal Management</button>
            <button class="test-btn" onclick="testOperationSuccess()">Test Operation Success</button>
        </div>

        <div class="test-results">
            <h3>Test Results:</h3>
            <div id="results"></div>
        </div>
    </div>

    <!-- Existing modal for testing modal management -->
    <div class="modal-overlay" id="modalOverlay"></div>
    <div class="existing-modal" id="existingModal">
        <h3>Existing Modal</h3>
        <p>This modal should be hidden when SweetAlert appears.</p>
        <button onclick="hideExistingModal()">Close</button>
    </div>

    <script>
        // Test functions using standard SweetAlert2 icons
        function testError() {
            Swal.fire({
                title: 'Error Alert',
                text: 'This is an enhanced error alert with standard SweetAlert2 icons.',
                icon: 'error',
                confirmButtonText: 'OK',
                confirmButtonColor: '#4F46E5'
            });
            logResult('Error alert displayed with standard icons ✅');
        }

        function testSuccess() {
            Swal.fire({
                title: 'Success Alert',
                text: 'This is an enhanced success alert with standard SweetAlert2 icons.',
                icon: 'success',
                confirmButtonText: 'OK',
                confirmButtonColor: '#4F46E5'
            });
            logResult('Success alert displayed with standard icons ✅');
        }

        function testWarning() {
            Swal.fire({
                title: 'Warning Alert',
                text: 'This is an enhanced warning alert (like marriage age validation) with standard icons.',
                icon: 'warning',
                confirmButtonText: 'OK',
                confirmButtonColor: '#4F46E5'
            });
            logResult('Warning alert displayed with standard icons ✅');
        }

        function testInfo() {
            Swal.fire({
                title: 'Info Alert',
                text: 'This is an enhanced info alert with standard SweetAlert2 icons.',
                icon: 'info',
                confirmButtonText: 'OK',
                confirmButtonColor: '#4F46E5'
            });
            logResult('Info alert displayed with standard icons ✅');
        }

        function testConfirm() {
            Swal.fire({
                title: 'Confirm Action',
                text: 'Do you want to proceed with this action?',
                icon: 'question',
                showCancelButton: true,
                confirmButtonText: 'Yes',
                cancelButtonText: 'No',
                confirmButtonColor: '#4F46E5',
                cancelButtonColor: '#6B7280'
            }).then((result) => {
                if (result.isConfirmed) {
                    logResult('Confirm dialog - User clicked Yes ✅');
                } else {
                    logResult('Confirm dialog - User clicked No or cancelled ✅');
                }
            });
            logResult('Confirm dialog displayed with standard icons ✅');
        }

        function testDeleteConfirm() {
            Swal.fire({
                title: 'Delete Confirmation',
                text: 'Are you sure you want to delete this item? This action cannot be undone.',
                icon: 'warning',
                showCancelButton: true,
                confirmButtonText: 'Delete',
                cancelButtonText: 'Cancel',
                confirmButtonColor: '#dc2626',
                cancelButtonColor: '#6b7280',
                reverseButtons: true
            }).then((result) => {
                if (result.isConfirmed) {
                    logResult('Delete confirm - User clicked Delete ✅');
                } else {
                    logResult('Delete confirm - User cancelled ✅');
                }
            });
            logResult('Delete confirm dialog displayed with standard icons ✅');
        }

        function testToast() {
            Swal.fire({
                toast: true,
                position: 'top-end',
                showConfirmButton: false,
                timer: 3000,
                timerProgressBar: true,
                icon: 'success',
                title: 'Standard Toast Notification'
            });
            logResult('Toast notification displayed with standard icons ✅');
        }

        function testModalManagement() {
            // Show existing modal first
            showExistingModal();
            
            setTimeout(() => {
                // Then show SweetAlert - existing modal should be hidden
                Swal.fire({
                    title: 'Modal Management Test',
                    text: 'The existing modal should now be hidden. When you close this alert, it should reappear.',
                    icon: 'info',
                    confirmButtonText: 'OK',
                    confirmButtonColor: '#4F46E5'
                });
                logResult('Modal management test - Existing modal hidden when SweetAlert appeared ✅');
            }, 1000);
        }

        function testOperationSuccess() {
            // Test different operation success types with standard icons
            const operations = [
                { title: 'Person Added Successfully', message: 'John Doe has been successfully added to the family tree!' },
                { title: 'Link Copied Successfully', message: 'Profile link copied to clipboard!' },
                { title: 'Notes Updated Successfully', message: 'Notes and stories have been successfully updated!' },
                { title: 'Fact Deleted Successfully', message: 'Fact deleted successfully!' },
                { title: 'Media Deleted Successfully', message: 'Media deleted successfully!' }
            ];

            let index = 0;
            function showNext() {
                if (index < operations.length) {
                    const op = operations[index];
                    Swal.fire({
                        title: op.title,
                        text: op.message,
                        icon: 'success',
                        confirmButtonText: 'OK',
                        confirmButtonColor: '#4F46E5'
                    }).then(() => {
                        index++;
                        if (index < operations.length) {
                            setTimeout(showNext, 500);
                        }
                    });
                    logResult(`Operation success test - ${op.title} with standard icon ✅`);
                }
            }
            showNext();
        }

        function showExistingModal() {
            document.getElementById('modalOverlay').style.display = 'block';
            document.getElementById('existingModal').style.display = 'block';
            logResult('Existing modal displayed ✅');
        }

        function hideExistingModal() {
            document.getElementById('modalOverlay').style.display = 'none';
            document.getElementById('existingModal').style.display = 'none';
            logResult('Existing modal hidden ✅');
        }

        function logResult(message) {
            const results = document.getElementById('results');
            const timestamp = new Date().toLocaleTimeString();
            results.innerHTML += `<div>[${timestamp}] ${message}</div>`;
        }

        // Initialize
        logResult('Enhanced SweetAlert test page loaded with standard icons ✅');
    </script>
</body>
</html>
